(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),s=(a(44),a(0)),r=a(22),c=a.n(r),i=a(12),o=a(5),l=a(14),d=a(41),u="FETCH_ALL_POSTS",b="CREATE_POST",p="DELETE_POST",j="UPDATE_POST",m="SET_PROGRESS",f="ADD_NOTES",x="ADD_NOTE",h="REMOVE_NOTE",g=a(21),v=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;case b:return[t.payload].concat(Object(g.a)(e));case j:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case p:return e.filter((function(e){return e._id!==t.payload}));default:return e}},progress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var a=[];return t.payload.map((function(t){void 0===e.find((function(e){return e===t}))&&a.push({isError:!0,message:t})})),[].concat(Object(g.a)(e),a);case x:return[].concat(Object(g.a)(e),[t.payload]);case h:return e.filter((function(e){return e.message!==t.payload.message}));default:return e}}}),O=[d.a],y=Object(l.e)(v,Object(l.d)(l.a.apply(void 0,O))),N=a(3),E=a(4),A=function(e){return{type:x,payload:e}},k=function(e){return{type:h,payload:e}},w={hidden:{x:-1e3,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5}},exit:{x:-1e3,opacity:0}},C=function(e){var t=e.notification,a=Object(o.b)();Object(s.useEffect)((function(){setTimeout((function(){a(k(t))}),3e3)}),[]);var r;return Object(n.jsxs)(E.b.div,{layout:!0,className:"notification position-relative",style:(r=t.isError,{backgroundColor:r?"red":"green"}),variants:w,initial:"hidden",animate:"visible",children:[Object(n.jsx)("button",{className:"notification-close-btn btn text-secondary m-0 p-0",onClick:function(){return a(k(t))},children:Object(n.jsx)("i",{className:"far fa-times-circle text-light"})}),Object(n.jsx)("div",{className:"notification-icon",children:t.isError?Object(n.jsx)("i",{className:"fas fa-exclamation-triangle"}):Object(n.jsx)("i",{className:"far fa-check-circle"})}),Object(n.jsx)("div",{className:"notification-message",children:Object(n.jsx)("p",{className:"notification-message-text",children:t.message})})]})},T=function(){var e=Object(o.c)((function(e){return e.notes}));return e.length>0?Object(n.jsx)(E.b.div,{layout:!0,className:"notificationsZone",children:e.map((function(e,t){return Object(n.jsx)(C,{notification:e},t)}))}):null},X=a(17),D=function(){var e=Object(N.f)().pathname,t=Object(s.useState)(!1),a=Object(X.a)(t,2),r=a[0],c=a[1];return Object(s.useEffect)((function(){c("/"===e)}),[e]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("nav",{className:"navbar navbar-dark mb-3 px-5 pt-4 align-items-center",children:[Object(n.jsxs)(i.b,{className:"navbar-brand h1 m-0 p-0 d-flex align-items-center",to:"/",children:[Object(n.jsx)("img",{className:"d-inline-block mr-2",width:"90",height:"54",src:"data:image/png;base64,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",alt:"memoreel logo",loading:"lazy"}),"MEMOREEL"]}),Object(n.jsx)(i.b,{to:r?"/form":"/",children:Object(n.jsx)(E.b.button,{layout:!0,transition:{duration:.3},type:"button",className:"btn nav-butn font-weight-bolder",children:r?"Share your best moment":"Cancel"})})]})})},S=function(e){var t=e.clear;return Object(n.jsxs)("div",{className:"form-controls p-3 w-100 my-2 d-flex align-items-center justify-content-between",children:[Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)("button",{type:"button",className:"btn btn-warning font-weight-bolder",onClick:t,children:"Cancel"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-outline-danger font-weight-bolder",onClick:t,children:"Clear"}),Object(n.jsx)("button",{type:"submit",className:"btn btn-outline-success ml-1 font-weight-bolder",children:"Submit"})]})]})},q=a(6),M=a(25),Z=a.n(M),K=function(e){var t=e.postData,a=e.setPostData;return Object(n.jsx)("div",{className:"post-body mb-1",children:Object(n.jsxs)("div",{className:"post-body-content d-flex flex-column justify-content-between h-100",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"w-100 d-flex justify-content-end",children:Object(n.jsx)("button",{type:"button",className:"btn text-secondary font-weight-bolder m-0 p-0",disabled:!0,children:Object(n.jsx)("i",{className:"fas fa-edit"})})}),Object(n.jsx)("input",{className:"form-input form-title font-weight-bold h3 text-secondary",name:"title",label:"Title",placeholder:"Title",value:t.title,onChange:function(e){return a(Object(q.a)(Object(q.a)({},t),{},{title:e.target.value}))}}),Object(n.jsx)("textarea",{className:"form-input form-message mb-4 text-secondary",name:"message",label:"Message",placeholder:"express here",value:t.message,onChange:function(e){return a(Object(q.a)(Object(q.a)({},t),{},{message:e.target.value}))}}),Object(n.jsx)("textarea",{className:"form-input form-tags text-secondary text-muted",name:"tags",label:"Tags",placeholder:"enter tags here separated by space: fun joy...",value:t.tags,onChange:function(e){return a(Object(q.a)(Object(q.a)({},t),{},{tags:e.target.value}))}})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("p",{className:"text-muted font-italic m-0",children:"posted by _"}),Object(n.jsx)("input",{className:"form-input form-creator text-secondary text-muted font-italic m-0",name:"creator",label:"Creator",placeholder:"creator name",value:t.creator,onChange:function(e){return a(Object(q.a)(Object(q.a)({},t),{},{creator:e.target.value}))}})]}),Object(n.jsxs)("p",{className:"text-muted font-italic m-0",children:["added on ",Z()(Date.now()).format("MMMM Do YYYY")]})]}),Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-outline-success font-weight-bolder",disabled:!0,children:[Object(n.jsx)("i",{className:"far fa-heart"})," Like"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-outline-danger font-weight-bolder",disabled:!0,children:[Object(n.jsx)("i",{className:"far fa-trash-alt"})," Delete"]})]})]})]})})},B=function(e){var t,a,r,c,i=e.file,o=e.setPostData,l=e.edit,d=Object(s.useState)(!0),u=Object(X.a)(d,2),b=u[0],p=u[1];return Object(s.useEffect)((function(){p(!1)}),[]),i.base64?(r=i.base64,c=i.type):(r=i.url,c="".concat(i.resource_type,"/").concat(i.format)),Object(n.jsxs)("div",{className:"thumb position-relative w-100 h-100",children:[o&&!l?Object(n.jsx)("div",{className:"media-clear-butn",children:Object(n.jsx)("button",{className:"btn text-secondary bg-light float-right shadow-lg",onClick:function(){return o((function(e){return Object(q.a)(Object(q.a)({},e),{},{media:null})}))},children:Object(n.jsx)("i",{className:"far fa-times-circle"})})}):null,(null===(t=i.resource_type)||void 0===t?void 0:t.startsWith("image"))&&Object(n.jsx)("img",{src:r,alt:"post media file",className:"post-media"}),(null===(a=i.resource_type)||void 0===a?void 0:a.startsWith("video"))&&Object(n.jsxs)("video",{preload:"auto",autoPlay:b,className:"post-media",controls:!0,loop:!0,children:[Object(n.jsx)("source",{src:r,type:c}),"Your browser does not support the video tag."]})]})},J=function(e){var t,a=e.postData,r=e.setPostData,c=e.edit,i=Object(s.useRef)();a.media&&(t=a.media);var o=function(e){console.log("makefile function:",e);var t=new FileReader;t.readAsDataURL(e),t.onload=function(){r(Object(q.a)(Object(q.a)({},a),{},{media:{resource_type:e.type,base64:t.result,file:e}}))}};return Object(n.jsxs)("div",{className:"post-frame bg-light d-flex align-items-center justify-content-center",children:[!t&&Object(n.jsxs)("div",{className:"drop-zone rounded d-flex align-items-center justify-content-center p-1",onClick:function(e){i.current&&i.current.click()},onDragOver:function(e){e.preventDefault()},onDrop:function(e){if(e.preventDefault(),e.dataTransfer.files.length){var t=e.dataTransfer.files[0];(t.type.startsWith("image/")||t.type.startsWith("video/"))&&o(t)}},children:[Object(n.jsxs)("div",{className:"drop-zone-text font-weight-bolder h4 text-center",children:[Object(n.jsx)("span",{className:"d-block overflow-hidden",children:"Drop file here or click to upload"}),Object(n.jsx)("i",{className:"fas fa-cloud-upload-alt"})]}),Object(n.jsx)("div",{className:"file-input d-none",children:Object(n.jsx)("input",{ref:i,type:"file",multiple:!1,name:"selectedFile",className:"file-input-field",onChange:function(e){if(e.target.files.length){var t=e.target.files[0];(t.type.startsWith("image/")||t.type.startsWith("video/"))&&o(t)}}})})]}),t&&Object(n.jsx)(B,{edit:c,file:t,setPostData:r})]})},P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.progress}));return Object(s.useEffect)((function(){100==t&&setTimeout((function(){e({type:m,payload:0})}),1e3)}),[t]),t?Object(n.jsx)("div",{className:"progress w-100 mt-3",children:Object(n.jsx)(E.b.div,{className:"progress-bar",role:"progressbar","aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100",initial:{width:0},animate:{width:t+"%"}})}):null},L=a(13),U=a.n(L),V=a(18),H=a(15),z=a.n(H),F="https://memoreel-node-server.onrender.com/posts",R={hidden:{opacity:0,x:"100vw"},visible:{opacity:1,x:0,transition:{type:"spring",duration:1}},exit:{x:"100vw",transition:{duration:.5}}},G=function(){var e=Object(o.b)(),t=Object(N.g)().postId,a=Object(s.useState)({creator:"",title:"",message:"",tags:"",media:null}),r=Object(X.a)(a,2),c=r[0],i=r[1],l=Object(o.c)((function(e){var a=e.posts;return t?a.find((function(e){return e._id===t})):null}));Object(s.useEffect)((function(){l&&i(l)}),[l]);var d=function(){i({creator:"",title:"",message:"",tags:"",media:null})};return Object(n.jsxs)(E.b.div,{className:"container",variants:R,initial:"hidden",animate:"visible",exit:"exit",children:[Object(n.jsx)("h1",{className:"formpage-title font-weight-bolder text-center m-5 ",children:"Share your best moment"}),Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,onSubmit:function(a){a.preventDefault();var n=[];""===c.creator&&n.push("please provile a valide creator"),""===c.title&&n.push("please provile a valide title"),""===c.message&&n.push("please provile a valide message"),null===c.selectedFile&&n.push("please provile a file: video or image"),n.length>0?e({type:f,payload:n}):(e(l?function(e,t){return function(){var a=Object(V.a)(U.a.mark((function a(n){var s,r;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.a.patch("".concat(F,"/").concat(e),t,{onUploadProgress:function(e){n({type:m,payload:Math.round(100*e.loaded/e.total)})}});case 3:if(s=a.sent,!(r=s.data).isError){a.next=8;break}return n(A({isError:!0,message:"post not updated try again"})),a.abrupt("return");case 8:n({type:j,payload:r.post}),n(A({isError:!1,message:"post updated successfuly"})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n(A({isError:!0,message:"post not updated try again"}));case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(t,{title:c.title,creator:c.creator,message:c.message,tags:c.tags}):function(e){return function(){var t=Object(V.a)(U.a.mark((function t(a){var n,s,r,c,i,o;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e.media.file),n.append("upload_preset","default_preset"),t.prev=3,t.next=6,z.a.post("https://api.cloudinary.com/v1_1/memoreel-cloud/upload",n,{onUploadProgress:function(e){a({type:m,payload:Math.round(60*e.loaded/e.total)})},onDownloadProgress:function(e){a({type:m,payload:60+Math.round(20*e.loaded/e.total)})}});case 6:if(s=t.sent,!(r=s.data).isError){t.next=11;break}return a(A({isError:!0,message:"post not created try again"})),t.abrupt("return");case 11:return c={creator:e.creator,title:e.title,message:e.message,tags:e.tags,media:r},t.prev=12,t.next=15,z.a.post(F,c,{onUploadProgress:function(e){a({type:m,payload:80+Math.round(10*e.loaded/e.total)})},onDownloadProgress:function(e){a({type:m,payload:90+Math.round(10*e.loaded/e.total)})}});case 15:if(i=t.sent,!(o=i.data).isError){t.next=20;break}return a(A({isError:!0,message:"post not created try again"})),t.abrupt("return");case 20:a({type:b,payload:o.post}),a(A({isError:!1,message:"post created successfuly"})),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(12),a(A({isError:!0,message:"post not created try again"}));case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(3),a(A({isError:!0,message:"post not created try again"}));case 32:case"end":return t.stop()}}),t,null,[[3,29],[12,24]])})));return function(e){return t.apply(this,arguments)}}()}(c)),d())},className:"d-flex flex-column align-items-center justify-content-center",children:[Object(n.jsxs)("div",{className:"post rounded shadow mb-2 w-100 p-2 d-flex",children:[Object(n.jsx)(J,{edit:!!l,postData:c,setPostData:i}),Object(n.jsx)(K,{postData:c,setPostData:i})]}),Object(n.jsx)(P,{}),Object(n.jsx)(S,{clear:d})]})]})},Q=function(){return Object(n.jsxs)("div",{className:"welcome d-flex flex-column align-items-center justify-content-center",children:[Object(n.jsx)("p",{className:"welcome-txt h2 font-weight-bold",children:"todays quote:"}),Object(n.jsx)("p",{className:"welcome-txt h2 font-weight-bold",children:'"Share with love"'})]})},W=function(e){var t=e.post,a=Object(o.b)();return Object(n.jsxs)(E.b.div,{layout:!0,className:"post shadow rounded w-100 mb-4 p-2 d-flex",children:[Object(n.jsx)("div",{className:"post-frame d-flex align-items-center justify-content-center",children:Object(n.jsx)(B,{file:t.media})}),Object(n.jsx)("div",{className:"post-body",children:Object(n.jsxs)("div",{className:"post-body-content d-flex flex-column justify-content-between h-100",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"w-100 d-flex justify-content-end",children:Object(n.jsx)(i.b,{to:"/form/".concat(t._id),children:Object(n.jsx)("button",{type:"button",title:"edit post",className:"post-edit-button btn text-secondary font-weight-bolder m-0 p-0",children:Object(n.jsx)("i",{className:"fas fa-edit"})})})}),Object(n.jsx)("h3",{className:"post-title font-weight-bold text-truncate",children:t.title}),Object(n.jsx)("p",{className:"post-message mb-4 text-break",children:t.message}),Object(n.jsx)("p",{className:"post-tags text-muted text-break",children:t.tags.split(" ").map((function(e){return" #".concat(e)}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsxs)("p",{className:"post-creator text-muted font-italic m-0 text-break",children:["posted by _",t.creator]}),Object(n.jsxs)("p",{className:"post-date text-muted font-italic m-0 text-break",children:["added on ",Z()(t.createdAt).format("MMMM Do YYYY")]})]}),Object(n.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(n.jsxs)("button",{type:"button",className:"post-like-butn btn btn-outline-success font-weight-bolder",title:"like post",onClick:function(){return a(function(e,t){return function(){var a=Object(V.a)(U.a.mark((function a(n){var s,r;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.a.patch("".concat(F,"/").concat(e),{likeCount:t.likeCount+1});case 3:if(s=a.sent,!(r=s.data).isError){a.next=8;break}return n(A({isError:!0,message:"post not updated try again"})),a.abrupt("return");case 8:n({type:j,payload:r.post}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n(A({isError:!0,message:"post not updated try again"}));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(t._id,t))},children:[Object(n.jsx)("i",{className:"far fa-heart"})," Like ",t.likeCount]}),Object(n.jsxs)("button",{type:"button",className:"post-delete-butn btn btn-outline-danger font-weight-bolder",title:"delete post",onClick:function(){return a((e=t._id,function(){var t=Object(V.a)(U.a.mark((function t(a){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.delete("".concat(F,"/").concat(e));case 3:a({type:p,payload:e}),a(A({isError:!1,message:"post deleted successfuly"})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(A({isError:!0,message:"post not deleted try again"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(n.jsx)("i",{className:"far fa-trash-alt"})," Delete"]})]})]})]})})]})},I=function(){return Object(n.jsx)(E.b.div,{drag:!0,layout:!0,dragConstraints:{left:0,top:0,right:0,bottom:0},dragMomentum:!0,dragElastic:1,className:"loader",animate:{rotateZ:360,transition:{repeat:1/0,duration:4}}})},Y=function(){var e=Object(o.c)((function(e){return e.posts}));return e.length?Object(n.jsx)(E.b.div,{layout:!0,className:"w-90 px-4 d-flex flex-column align-items-center",children:e.map((function(e,t){return Object(n.jsx)(W,{post:e},t)}))}):Object(n.jsx)(I,{})},_={hidden:{opacity:0,x:"-100vw"},visible:{opacity:1,x:0,transition:{type:"spring",duration:1}},exit:{x:"-100vw",transition:{duration:.5}}},$=function(){return Object(n.jsxs)(E.b.div,{className:"home",variants:_,initial:"hidden",animate:"visible",exit:"exit",children:[Object(n.jsx)(Q,{}),Object(n.jsx)(Y,{})]})};var ee=function(){var e=Object(o.b)(),t=Object(N.f)();return Object(s.useEffect)((function(){e(function(){var e=Object(V.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get(F);case 3:if(a=e.sent,!(n=a.data).isError){e.next=8;break}return t(A({isError:!0,message:"can not get posts try reloading"})),e.abrupt("return");case 8:t({type:u,payload:n.posts}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(A({isError:!0,message:"can not get posts try reloading"}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(s.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("div",{className:"myappbg",children:Object(n.jsx)("div",{className:"overlay"})}),Object(n.jsx)(D,{}),Object(n.jsx)(E.a,{exitBeforeEnter:!0,children:Object(n.jsxs)(N.c,{location:t,children:[Object(n.jsx)(N.a,{exact:!0,path:["/form","/form/:postId"],children:Object(n.jsx)(G,{})}),Object(n.jsx)(N.a,{path:"/",children:Object(n.jsx)($,{})})]},t.key)}),Object(n.jsx)(T,{})]})};c.a.render(Object(n.jsx)(o.a,{store:y,children:Object(n.jsx)(i.a,{children:Object(n.jsx)(ee,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.09c1b467.chunk.js.map